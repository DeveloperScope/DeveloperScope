==== File: accesslist/views.py ====
@@ -772,7 +772,7 @@ def upload_acl_from_git(request):
             g = GitWorker(request, gitlab_repo_url, request.session['GIT_USERNAME'],
                           request.session['GIT_PASSWORD'], None, '')
             if g:
-                g.repo.git.ls_remote('--heads', '--tags', f'https://{request.session["GIT_USERNAME"]}%40alfastrah.ru:{request.session["GIT_PASSWORD"]}@gitlab.alfastrah.ru/{gitlab_subgroup}/{gitlab_project}.git')
+                g.repo.git.ls_remote('--heads', '--tags', f'https://gitlab.alfastrah.ru/{gitlab_subgroup}/{gitlab_project}.git')
                 g.free()
         except IndexError as e:
             logger.error(f'IndexError: {e}')


==== File: ownerlist/utils.py ====
@@ -1,4 +1,5 @@
 import os, shutil, sys
+import urllib
 from pathlib import Path, PurePosixPath
 from django.core.files.storage import FileSystemStorage
 from django.apps import apps
@@ -1162,16 +1163,17 @@ class GitWorker:
                  self.USERNAME = self.USERNAME + '%40' + 'alf'+'ast' + 'rah'+'.ru'
 
              if PASSWORD:
-                 self.PASSWORD = PASSWORD
-             if '@' in self.PASSWORD:
-                 logger.warning('В пароле пользователя {} имеется запрещенный символ'.format(self.USERNAME))
+                 PASSWORD = urllib.parse.quote_plus(PASSWORD)
+                 self.PASSWORD = hashlib.sha256(PASSWORD.encode()).hexdigest()
+             # if '@' in self.PASSWORD:
+             #     logger.warning('В пароле пользователя {} имеется запрещенный символ'.format(self.USERNAME))
 
              self.GITURL = GITPRO
              self.GITPRO = GITPRO.split('://')[1]
              self.GITPRO = f"https://{self.USERNAME}:{self.PASSWORD}@{self.GITPRO}"
 
         # if settings.DEBUG:
-            # logger.debug('Проверка логина и пароля: {}'.format(self.GITPRO))
+        #     logger.debug('Проверка логина и пароля: {}'.format(self.GITPRO))
 
 
         if PATH_OF_GIT_REPO is not None:


